@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    * {
        @apply border-gray-200 dark:border-gray-700;
    }

    body {
        @apply bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100;
        font-feature-settings: "rlig" 1, "calt" 1;
    }

    /* Modern Minimalist Scrollbar */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 dark:bg-gray-600 rounded-full border-2 border-solid border-transparent bg-clip-content hover:bg-gray-400 dark:hover:bg-gray-500;
    }

    ::-webkit-scrollbar-corner {
        @apply bg-transparent;
    }
}

@layer components {
    .btn {
        @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
    }

    .btn-primary {
        @apply btn bg-primary-600 text-white hover:bg-primary-700;
    }

    .btn-secondary {
        @apply btn bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600;
    }

    .btn-ghost {
        @apply btn hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100;
    }

    .input {
        @apply flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-400;
    }

    .card {
        @apply rounded-lg border bg-white text-gray-950 shadow-sm dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700;
    }

    .file-item {
        @apply flex items-center px-2 py-1 hover:bg-gray-50 cursor-pointer rounded dark:hover:bg-gray-700;
    }

    .file-item.selected {
        @apply bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100;
    }

    .transfer-item {
        @apply flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700;
    }

    .status-indicator {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .status-connected {
        @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
    }

    .status-disconnected {
        @apply bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200;
    }

    .status-connecting {
        @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;
    }

    .status-error {
        @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
    }

    .file-table {
        @apply w-full border-collapse text-sm table-fixed;
    }

    /* Fixed widths removed to allow dynamic resizing */

    .file-table th {
        @apply bg-gray-50 text-left p-2 font-medium border-b border-gray-200 sticky top-0 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100;
    }

    .file-table td {
        @apply p-2 border-b border-gray-100 dark:border-gray-700 dark:text-gray-100;
    }

    .file-table tr:hover {
        @apply bg-gray-50 dark:bg-gray-700;
    }

    .file-table tr.selected {
        @apply bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100;
    }

    .sortable-header {
        @apply cursor-pointer hover:bg-gray-100 select-none dark:hover:bg-gray-700;
    }

    .file-explorer-container {
        @apply select-none;
    }

    /* Enhanced divider styles for better accessibility and visual feedback */
    .divider-handle {
        @apply relative flex items-center justify-center;
    }

    .divider-handle:hover .divider-tooltip {
        @apply opacity-100;
    }

    .divider-tooltip {
        @apply absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded opacity-0 transition-opacity whitespace-nowrap pointer-events-none;
    }

    /* Resize handle styles */
    .resize-handle {
        @apply flex-shrink-0 transition-colors duration-150;
    }

    .resize-handle:hover {
        @apply bg-blue-500;
    }

    /* File table column resize styles */
    .file-table th {
        @apply relative;
    }

    .file-table th:not(:last-child)::after {
        content: '';
        @apply absolute right-0 top-0 bottom-0 w-0.5 bg-gray-300 hover:bg-blue-500 transition-colors cursor-col-resize z-10 dark:bg-gray-600 dark:hover:bg-blue-400;
    }

    /* Prevent text selection during resize */
    .resizing {
        @apply select-none;
    }

    /* Enhanced file table styles for better column handling */
    .file-table {
        @apply border-separate;
        border-spacing: 0;
    }

    /* Terminal styles */
    .xterm {
        @apply font-mono;
        height: 100% !important;
        width: 100% !important;
        position: relative;
        padding: 4px;
        box-sizing: border-box;
    }

    .xterm-viewport {
        @apply bg-gray-900;
        overflow-y: auto !important;
    }

    .xterm-screen {
        @apply bg-gray-900;
    }

    .xterm .xterm-viewport {
        width: 100% !important;
    }

    .xterm-helper-textarea {
        position: absolute !important;
        left: -9999px !important;
        opacity: 0 !important;
        width: 0 !important;
        height: 0 !important;
        pointer-events: none !important;
    }

    .xterm textarea {
        position: absolute !important;
        left: -9999px !important;
        opacity: 0 !important;
        width: 0 !important;
        height: 0 !important;
        pointer-events: none !important;
    }
}